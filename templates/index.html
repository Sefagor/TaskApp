{% extends 'base.html' %}

{% block head %}
    <title>Tasks</title>
{% endblock %}

{% block body %}
<div class="content">
    <h1>Task 2.0</h1>

    {% if not tasks %}
        <h3>There are no tasks... Create one here!</h3>
    {% else %}
        <table>
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Added</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for task in tasks %}
                    <tr>
                        <td>{{ task.content }}</td>
                        <td>
                            {{ task.created.strftime("%Y-%m-%d") if task.created else "No date" }}
                        </td>
                        <td>
                            <a href="/delete/{{ task.id }}">Delete</a><br/>
                            <a href="/update/{{ task.id }}">Edit</a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% endif %}

    <form action="/" method="POST">
        <label for="content">New Task:</label><br/>
        <input type="text" name="content" id="content" required>
        <input type="submit" value="Add Task" id="btn_add">
    </form>
</div>
{% endblock %}
